:github-icon: pass:[<svg class="icon"><use href="#github-icon"/></svg>]
:TFHESafeMath: pass:normal[xref:utils.adoc#TFHESafeMath[`TFHESafeMath`]]

= Utils

[.readme-notice]
NOTE: This document is better viewed at https://docs.openzeppelin.com/confidential-contracts/api/utils

Miscellaneous contracts and libraries containing utility functions you can use to improve security, and ease integrations when working with confidential contracts.

- {TFHESafeMath}: Implementation of safe math operations for encrypted values.

== Math
:tryIncrease: pass:normal[xref:#TFHESafeMath-tryIncrease-euint64-euint64-[`++tryIncrease++`]]
:tryDecrease: pass:normal[xref:#TFHESafeMath-tryDecrease-euint64-euint64-[`++tryDecrease++`]]

:tryIncrease-euint64-euint64: pass:normal[xref:#TFHESafeMath-tryIncrease-euint64-euint64-[`++tryIncrease++`]]
:tryDecrease-euint64-euint64: pass:normal[xref:#TFHESafeMath-tryDecrease-euint64-euint64-[`++tryDecrease++`]]

[.contract]
[[TFHESafeMath]]
=== `++TFHESafeMath++` link:https://github.com/OpenZeppelin/openzeppelin-confidential-contracts/blob/master/contracts/utils/TFHESafeMath.sol[{github-icon},role=heading-link]

[.hljs-theme-light.nopadding]
```solidity
import "@openzeppelin/confidential-contracts/utils/TFHESafeMath.sol";
```

Library providing safe arithmetic operations for encrypted values
to handle potential overflows in FHE operations.

[.contract-index]
.Functions
--
* `++tryIncrease(oldValue, delta)++`
* `++tryDecrease(oldValue, delta)++`

--

[.contract-item]
[[TFHESafeMath-tryIncrease-euint64-euint64-]]
==== `[.contract-item-name]#++tryIncrease++#++(euint64 oldValue, euint64 delta) → ebool success, euint64 updated++` [.item-kind]#internal#

Try to increase the encrypted value `oldValue` by `delta`. If the operation is successful,
`success` will be true and `updated` will be the new value. Otherwise, `success` will be false
and `updated` will be the original value.

[.contract-item]
[[TFHESafeMath-tryDecrease-euint64-euint64-]]
==== `[.contract-item-name]#++tryDecrease++#++(euint64 oldValue, euint64 delta) → ebool success, euint64 updated++` [.item-kind]#internal#

Try to decrease the encrypted value `oldValue` by `delta`. If the operation is successful,
`success` will be true and `updated` will be the new value. Otherwise, `success` will be false
and `updated` will be the original value.

